#!/usr/bin/env php
<?php

$autoload_path_1 = __DIR__ . '/../vendor/autoload.php';
$autoload_path_2 = __DIR__ . '/../../../autoload.php';
if (file_exists($autoload_path_1)) {
    require_once $autoload_path_1;
} else {
    require_once $autoload_path_2;
}

use Differ\Differ\Differ;
use Differ\Readers\FileReader;
use Differ\Factories\CommandFactory;
use Differ\Factories\Formatters;
use Differ\Exceptions\DifferException;

$differ = new Differ(
    new CommandFactory(
        new \Docopt(),
        new FileReader(),
        new Formatters()
    )
);
try {
    $differ->run();
} catch (DifferException $e) {
    print_r("{$e->getMessage()}");
}
